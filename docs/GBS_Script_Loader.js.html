<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: GBS_Script_Loader.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: GBS_Script_Loader.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/* GBS_Script_Loader.js */

/**
	@file Load the scripts dynamically and manage the JSONs loading status.
	@author BIOWP
*/

var curTime = Date.now();
var raidBossListURL = "", pokemonDataFullURL = "", moveDataFullURL = "";
var requiredJSONStatus = { 
	// 0: Not loaded, 1: Started loading, 2: Successfully loaded
	'Pokemon': 0,
	'PokemonForms': 0,
	'RaidBosses': 0,
	'Moves': 0,
	'LevelSettings': 0
};
var hasInit = false;

/** 
	This function will be called after all required JSONs and scripts are loaded.
*/
function onfinishLoadingAll(){
	if (window.GoBattleSimInit &amp;&amp; !hasInit) {
		hasInit = true;
		GoBattleSimInit(); // DPSCalculatorInit();
	}
};

$.ajax({ 
	url: "https://gamepress.gg/json-list?_format=json&amp;game_tid=1&amp;" + curTime, 
	dataType: 'json', 
	success: function(data){
		for(var i = 0; i &lt; data.length; i++){
			var curr = data[i];
			if (curr.title == "raid-boss-list-PoGO"){
				raidBossListURL = curr.url;
			}
			if (curr.title == "pokemon-data-full-en-PoGO"){
				pokemonDataFullURL = curr.url;
			}
			if (curr.title == "move-data-full-PoGO"){
				moveDataFullURL = curr.url;
			}
		}
	},
	complete: function(){
		if (window.fetchSpeciesData){
			fetchSpeciesData();
			fetchMoveData();
			fetchRaidBossData();
		}
	}
});

var scriptsToLoad = [
	"https://pokemongo.gamepress.gg/sites/pokemongo/files/js_files/GBS_Populate.js",

	"https://pokemongo.gamepress.gg/sites/pokemongo/files/js_files/GBS_Core.js",
	"https://pokemongo.gamepress.gg/sites/pokemongo/files/js_files/GBS_Populate_extras.js",
	"https://pokemongo.gamepress.gg/sites/pokemongo/files/js_files/GBS_UI_1_general.js",
	"https://pokemongo.gamepress.gg/sites/pokemongo/files/js_files/GBS_UI_2_dom.js",
	"https://pokemongo.gamepress.gg/sites/pokemongo/files/js_files/GBS_UI_3_parser.js",
	"https://pokemongo.gamepress.gg/sites/pokemongo/files/js_files/GBS_UI_4_dom2.js",
	"https://pokemongo.gamepress.gg/sites/pokemongo/files/js_files/comprehensive_dps.js"
];

var numScriptsToLoad = scriptsToLoad.length;
var numScriptsLoaded = 0;


// Load this script first because we need this script to load JSONs
$.getScript(scriptsToLoad[0] + "?" + curTime, function(){
	numScriptsLoaded++;
	fetchAll(function(){
		if (numScriptsLoaded >= numScriptsToLoad){
			onfinishLoadingAll();
		}
	});
});

for (var i = 1; i &lt; numScriptsToLoad; i++){
	$.getScript(scriptsToLoad[i] + "?" + curTime, function(){
		numScriptsLoaded++;
		if (numScriptsLoaded >= numScriptsToLoad){
			for (var json_name in requiredJSONStatus){
				if (requiredJSONStatus[json_name] != 2){
					return;
				}
			}
			onfinishLoadingAll();
		}
	});
}

// Ensure that the page will be initialized
function tryInit(){
	if (!hasInit){
		if (numScriptsLoaded >= numScriptsToLoad) {
			var good = true;
			for (var json_name in requiredJSONStatus){
				if (requiredJSONStatus[json_name] != 2){
					good = false;
				}
			}
		}
		if (good) {
			onfinishLoadingAll();
		}
		setTimeout(tryInit, 1000);
	}
}
tryInit();</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Battle.html">Battle</a></li><li><a href="Move.html">Move</a></li><li><a href="Party.html">Party</a></li><li><a href="Player.html">Player</a></li><li><a href="Pokemon.html">Pokemon</a></li><li><a href="Strategy.html">Strategy</a></li><li><a href="Timeline.html">Timeline</a></li></ul><h3>Global</h3><ul><li><a href="global.html#assignMoveParameterSet">assignMoveParameterSet</a></li><li><a href="global.html#binarySearch">binarySearch</a></li><li><a href="global.html#calculateCP">calculateCP</a></li><li><a href="global.html#Combination">Combination</a></li><li><a href="global.html#createElement">createElement</a></li><li><a href="global.html#damage">damage</a></li><li><a href="global.html#Data">Data</a></li><li><a href="global.html#fetchAll">fetchAll</a></li><li><a href="global.html#fetchLevelData">fetchLevelData</a></li><li><a href="global.html#fetchLocalData">fetchLocalData</a></li><li><a href="global.html#fetchMoveData">fetchMoveData</a></li><li><a href="global.html#fetchRaidBossData">fetchRaidBossData</a></li><li><a href="global.html#fetchSpeciesData">fetchSpeciesData</a></li><li><a href="global.html#fetchSpeciesFormData">fetchSpeciesFormData</a></li><li><a href="global.html#fetchUserData">fetchUserData</a></li><li><a href="global.html#fetchUserTeamData">fetchUserTeamData</a></li><li><a href="global.html#getEntry">getEntry</a></li><li><a href="global.html#getEntryIndex">getEntryIndex</a></li><li><a href="global.html#getFriendMultiplier">getFriendMultiplier</a></li><li><a href="global.html#getPokemonIcon">getPokemonIcon</a></li><li><a href="global.html#getTypeIcon">getTypeIcon</a></li><li><a href="global.html#GoBattleSimInit">GoBattleSimInit</a></li><li><a href="global.html#handleSpeciesDatabase">handleSpeciesDatabase</a></li><li><a href="global.html#inferLevelAndIVs">inferLevelAndIVs</a></li><li><a href="global.html#insertEntry">insertEntry</a></li><li><a href="global.html#LocalData">LocalData</a></li><li><a href="global.html#mergeDatabase">mergeDatabase</a></li><li><a href="global.html#onfinishLoadingAll">onfinishLoadingAll</a></li><li><a href="global.html#parseMovesFromString">parseMovesFromString</a></li><li><a href="global.html#parsePokemonTypeFromString">parsePokemonTypeFromString</a></li><li><a href="global.html#parseUserPokebox">parseUserPokebox</a></li><li><a href="global.html#Permutation">Permutation</a></li><li><a href="global.html#removeEntry">removeEntry</a></li><li><a href="global.html#round">round</a></li><li><a href="global.html#saveLocalData">saveLocalData</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Thu Feb 28 2019 03:29:32 GMT+0800 (Hong Kong Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
